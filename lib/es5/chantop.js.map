{"version":3,"file":"chantop.js","names":["chanTop","vstep","init","$el","list","addClass","empty","chans","load","makeCSS","count","css","_","range","forEach","p","props","has3d","prefix","injector","inject","length","chan","$","buildChan","find","click","installer","toggle","id","append","API","getRates","upd","setInterval","Date","getTime","lastUpdated","interval","is","stahp","clearInterval","updateRatings","data","oldIDs","map","newIDs","difference","document","location","reload","rating","text","arrange","isInstalled","xPlus","addRemove","name","escape","wiki","match","conf","section","ballv","url","sortByOrder","i","attr","arranged","hov","order","oldRating","deltaClass","delta","removeClass","setTimeout","mockRandOrder","rand","Math","random","round","request","getChallenge","captcha","code","vote","lr","handleError","v","act","method","toSend","ajax","type","done","error","handleData","fail","e","hasOwnProperty","rates","Masher","setNewChallenge","challengers","console","log","debug","er","specialErrors","enter_captcha","updateCaptcha","wrong_captcha","force_reload","val","focus","ev","stopPropagation","pool","gradient","catbg","split","pair","left","right","colors","unprefixed","res","exec","rest","without","gradientDirection","ret","gradientType","isNaN","parseFloat","gradientStops","each","main","ajaxSetup","dataType","getJSON","version","initAll","err","filter","offline","window","width","unexpand","hasClass","toggleClass","scrollTop","submit","preventDefault","keydown","key","installed","versions","LSfetchJSON","server","myChans","mych","found","push","sync","withVersions","localStorage","JSON","stringify","chid","indicate","xp","ar","install","toInstall","uninstall","removed","remove","alias","existing","getElementById","innerHTML","head","getElementsByTagName","style","createElement","styleSheet","cssText","appendChild","createTextNode","removeChild","getComputedStyle","el","transforms","t","body","insertBefore","getPropertyValue","parse","removeItem"],"sources":["../../babel/src/chantop.js"],"sourcesContent":["'use strict';\r\n\r\nvar chanTop = {\r\n\tvstep: 50,\r\n\tinit: function($el, list) {\r\n\t\tthis.$el = $el.addClass('chantop')\r\n\t\tthis.$el.empty()\r\n\t\tthis.chans = list\r\n\t\tthis.load()\r\n\t},\r\n\tmakeCSS: function(count) {\r\n\t\tvar css = '', vstep = this.vstep\r\n\t\t_.range(count).forEach(function(p) {\r\n\t\t\tvar props = ''\r\n\t\t\tif(has3d) {\r\n\t\t\t\t['', '-webkit-'].forEach(function(prefix) {\r\n\t\t\t\t\tprops += `${prefix}transform: translate3d(0, ${vstep*p}px, 0);\\n`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tprops += `top: ${vstep*p + 10}px;`\r\n\t\t\tcss += `#co-${p} {\\n${props}}\\n`\r\n\t\t})\r\n\t\tcss += `.chantop { height: ${count*vstep}px }`\r\n\t\tinjector.inject('chantop-positions', css)\r\n\t},\r\n\tload: function() {\r\n\t\tthis.makeCSS(this.chans.length)\r\n\t\tthis.chans.forEach(chan => {\r\n\t\t\tchan.$el = $(this.buildChan(chan))\r\n\t\t\tchan.$el.find('.adder-remover').click(() => {\r\n\t\t\t\tinstaller.toggle(chan.id)\r\n\t\t\t})\r\n\t\t\tthis.$el.append(chan.$el)\r\n\t\t})\r\n\t\tAPI.getRates()\r\n\t\tthis.upd = setInterval(() => {\r\n\t\t\tif(new Date().getTime() - this.lastUpdated > this.interval/2 \r\n\t\t\t&& !$('#chantop').is(':hover') \r\n\t\t\t&& $('#chantop').css('visibility') !== 'hidden')\r\n\t\t\t\tAPI.getRates()\r\n\t\t}, this.interval)\r\n\t},\r\n\tstahp: function() {\r\n\t\tclearInterval(this.upd)\r\n\t},\r\n\tupdateRatings: function(data) {\r\n\t\tthis.lastUpdated = new Date().getTime()\r\n\t\tlet oldIDs = _.map(this.chans, 'id')\r\n\t\t, newIDs = _.map(data, 'id')\r\n\t\tif (newIDs.length !== oldIDs.length || _.difference(oldIDs, newIDs).length) {\r\n\t\t\tdocument.location.reload()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.chans.forEach(chan => {\r\n\t\t\tchan.rating = +_.find(data, {id: chan.id}).rating\r\n\t\t\tchan.$el.find('.chan-rating').text(chan.rating)\r\n\t\t})\r\n\t\tthis.arrange()\r\n\t},\r\n\tinterval: 5000,\r\n\tbuildChan: function(chan) {\r\n\t\tlet isInstalled = installer.isInstalled(chan.id)\r\n\t\t, xPlus = isInstalled ? '×' : '+'\r\n\t\t, addRemove = isInstalled ? 'Удалить' : 'Добавить'\r\n\t\t, name = _.escape(chan.name)\r\n\t\t, wiki = (chan.wiki && chan.wiki.match(/https?:\\/\\//)) ? chan.wiki : (conf.wiki+(chan.wiki || name))\r\n\t\treturn html`<div class=\"ct-chan\">\r\n\t\t\t<img src=\"/chans/balls/${chan.section}/${chan.id}.png${chan.ballv ? `?v=${chan.ballv}` : ''}\" alt=\"${name}\" class=\"chan-avatar\">\r\n\t\t\t<div class=\"catc-addremove adder-remover\" title=\"${addRemove}\">${xPlus}</div>\r\n\t\t\t<a href=\"${_.escape(chan.url)}\" target=\"_blank\" class=\"chan-name\"><span>${name}</span></a>\r\n\t\t\t<div class=\"chan-rating\">${chan.rating}</div>\r\n\t\t\t<div class=\"chan-rating-delta\"></div>\r\n\t\t\t<a target=\"_blank\" href=\"${wiki}\" class=\"catc-info\" title=\"Информация\">i</a>\r\n\t\t</div>`\r\n\t},\r\n\tarrange: function() {\r\n\t\t_.sortByOrder(chanTop.chans, ['rating', 'name'], ['desc', 'asc'])\r\n\t\t.forEach((chan, i) => {\r\n\t\t\tchan.$el.attr('id', `co-${i}`)\r\n\t\t\tif(this.arranged) {\r\n\t\t\t\tvar hov = ' hovering'\r\n\t\t\t\tif(i < chan.order)\r\n\t\t\t\t\thov += ' going-up'\r\n\t\t\t\telse if(i > chan.order)\r\n\t\t\t\t\thov += ' going-down'\r\n\t\t\t\telse\r\n\t\t\t\t\thov = ''\r\n\t\t\t\tif(chan.rating !== chan.oldRating) {\r\n\t\t\t\t\tvar delta = chan.rating - chan.oldRating\r\n\t\t\t\t\t, deltaClass\r\n\t\t\t\t\tif(delta > 0) {\r\n\t\t\t\t\t\tdeltaClass = 'plus'\r\n\t\t\t\t\t\tdelta= '+'+delta\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse \r\n\t\t\t\t\t\tdeltaClass = 'minus'\r\n\t\t\t\t\tchan.$el.find('.chan-rating-delta').text(`${delta}`)\r\n\t\t\t\t\t.removeClass('plus minus').addClass(deltaClass)\r\n\t\t\t\t}\r\n\t\t\t\tchan.$el.addClass(hov+(delta ? ' delta-show' : ''))\r\n\t\t\t\tsetTimeout(() => chan.$el.removeClass('hovering going-down going-up delta-show'), 1000)\r\n\t\t\t}\r\n\t\t\tchan.order = i\r\n\t\t\tchan.oldRating = chan.rating\r\n\t\t})\r\n\t\tthis.arranged = true\r\n\t},\r\n\tarranged: false,\r\n\tmockRandOrder: function(rand) {\r\n\t\trand = rand || 0.3\r\n\t\tthis.chans.forEach(chan => {\r\n\t\t\tif(Math.random() < rand) {\r\n\t\t\t\tchan.rating = Math.round(Math.random() * 1000)\r\n\t\t\t\tchan.$el.find('.chan-rating').text(`${chan.rating}`)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.arrange()\r\n\t}\r\n}\r\n\r\nvar API = {\r\n\tgetRates: function() {\r\n\t\tthis.request('rates')\r\n\t},\r\n\tgetChallenge: function() {\r\n\t\tthis.request('challenge')\r\n\t},\r\n\tcaptcha: function(code) {\r\n\t\tthis.request('captcha', 'POST', {captcha: code})\r\n\t},\r\n\tvote: function(lr) {\r\n\t\tif(lr !== 'left' && lr !== 'right')\r\n\t\t\tthis.handleError('You can only vote Left or Right')\r\n\t\tthis.request('vote', 'POST', {v: lr})\r\n\t},\r\n\trequest: function(act, method, toSend) {\r\n\t\t$.ajax({\r\n\t\t\turl: `api.php?act=${act}`,\r\n\t\t\ttype: method || 'GET',\r\n\t\t\tdata: toSend || null,\r\n\t\t}).done(data => {\r\n\t\t\tif(data.error)\r\n\t\t\t\treturn this.handleError(data.error)\r\n\t\t\tthis.handleData(data.data)\r\n\t\t})\r\n\t\t.fail(e => this.handleError('XHR error: ', e))\r\n\t},\r\n\thandleData: function(data) {\r\n\t\tif(data.hasOwnProperty('vote_success')) {\r\n\t\t\t$('body').removeClass('enter-captcha')\r\n\t\t}\r\n\t\tif(data.hasOwnProperty('rates'))\r\n\t\t\tchanTop.updateRatings(data.rates)\r\n\t\tif(data.hasOwnProperty('challengers'))\r\n\t\t\tMasher.setNewChallenge(data.challengers)\r\n\t\tif(data.hasOwnProperty('debug'))\r\n\t\t\tconsole.log(data.debug)\r\n\t},\r\n\thandleError: function(er) {\r\n\t\tif(this.specialErrors.hasOwnProperty(er))\r\n\t\t\tthis.specialErrors[er]()\r\n\t\telse\r\n\t\t\tconsole.error(er)\r\n\t\treturn false\r\n\t},\r\n\tspecialErrors: {\r\n\t\tenter_captcha: function() {\r\n\t\t\t$('body').addClass('enter-captcha')\r\n\t\t\tupdateCaptcha()\r\n\t\t},\r\n\t\twrong_captcha: function() {\r\n\t\t\t$('#captcha-panel').addClass('wrong')\r\n\t\t\tsetTimeout(() => $('#captcha-panel').removeClass('wrong'), 1000)\r\n\t\t\tupdateCaptcha()\r\n\t\t},\r\n\t\tforce_reload: () => document.location.reload()\r\n\t}\r\n}\r\n\r\nfunction updateCaptcha() {\r\n\t$('#cpanel-wrap img').attr('src', '/captcha.php?color=200,200,200')\r\n\t$('input[name=captcha]').val('').focus()\r\n}\r\n\r\nvar Masher = {\r\n\tinit: function($el, list) {\r\n\t\tthis.$el = $el\r\n\t\tvar css = ''\r\n\t\tlist.forEach(chan => {\r\n\t\t\tvar $el = $(this.buildChan(chan))\r\n\t\t\t$el.find('a, .chan-options').click(ev => {\r\n\t\t\t\tev.stopPropagation()\r\n\t\t\t})\r\n\t\t\t$el.find('.adder-remover').click(() => {\r\n\t\t\t\tinstaller.toggle(chan.id)\r\n\t\t\t})\r\n\t\t\tthis.pool[chan.id] = $el\r\n\t\t\tcss += `\\n#ch_${chan.id} {\\n ${this.gradient(chan.catbg)} \\n}`\r\n\t\t})\r\n\t\tinjector.inject('catalog-gradients', css)\r\n\t\t$('.challenger').click(function() {\r\n\t\t\t$('.catalog-chan').addClass('post')\r\n\t\t\tAPI.vote($(this).attr('id').split('c-')[1])\r\n\t\t})\r\n\t\tAPI.getChallenge()\r\n\t},\r\n\tpool: {},\r\n\tbuildChan: chan => {\r\n\t\tlet isInstalled = installer.isInstalled(chan.id)\r\n\t\t, xPlus = isInstalled ? '×' : '+'\r\n\t\t, addRemove = isInstalled ? 'Удалить' : 'Добавить'\r\n\t\t, name = _.escape(chan.name)\r\n\t\t, wiki = (chan.wiki && chan.wiki.match(/https?:\\/\\//)) ? chan.wiki : (conf.wiki+(chan.wiki || name))\r\n\t\treturn html`<div class=\"catalog-chan\">\r\n\t\t  <div class=\"cc-ball-wrap\" id=\"ch_${chan.id}\">\r\n\t\t    <img src=\"/chans/balls/${chan.section}/${chan.id}.png${chan.ballv ? `?v=${chan.ballv}` : ''}\" alt=\"${name}\" class=\"cc-ball\">\r\n\t\t    <a href=\"${_.escape(chan.url)}\" target=\"_blank\" class=\"channame-overlay\">${name}</a>\r\n\t\t    <div class=\"chan-options co-add adder-remover\" title=\"${addRemove}\">${xPlus}</div>\r\n\t\t    <a href=\"${wiki}\" target=\"_blank\" class=\"chan-options co-info\" title=\"Информация\">i</a>\r\n\t\t  </div>\r\n\t\t</div>`\r\n\t},\r\n\tsetNewChallenge: function(pair) {\r\n\t\tvar [left, right] = pair.map(lr => lr = this.pool[lr.id].addClass('pre').removeClass('post'))\r\n\t\t$('#c-left').append(left)\r\n\t\t$('#c-right').append(right)\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('.challenger .catalog-chan').removeClass('pre')\r\n\t\t}, 500)\r\n\t},\r\n\tgradient: function(colors) {\r\n\t\tlet unprefixed = `linear-gradient(to bottom, #${colors[0]} 0%, #${colors[1]} 100%)`\r\n\t\t, res = /(((?:radial|linear)-gradient)\\((?:(ellipse) at center|(-?[0-9]+)deg|to (right|bottom)), ?(.+)\\));?/i.exec(unprefixed);\r\n\t\tif (res === null) return 'background:' + unprefixed;\r\n\t\tres = _.rest(_.without(res, undefined));\r\n\t\tvar ret = res[0]+'; ';\r\n\t\tvar gradientType = res[1];\r\n\t\tvar gradientDirection;\r\n\t\tif (!isNaN(res[2])) gradientDirection = (90 - parseFloat(res[2])) + 'deg, ';\r\n\t\telse if (res[2] == 'bottom') gradientDirection = 'top, ';\r\n\t\telse if (res[2] == 'right') gradientDirection = 'left, ';\r\n\t\telse gradientDirection = 'center, ellipse cover, ';\r\n\t\tvar gradientStops = res[3];\r\n\t\t_.each(['-o-', '-webkit-', '-moz-'], function(prefix) {\r\n\t\t\tret += 'background:' + prefix + gradientType + '(' + gradientDirection + gradientStops + '); ';\r\n\t\t});\r\n\t\treturn 'background:' + ret;\r\n\t}\r\n}\r\n\r\nfunction main() {\r\n\t$.ajaxSetup({\r\n\t\tdataType: 'json'\r\n\t})\r\n\r\n\t$.getJSON(`/chans/chans.json?v=${new Date().getTime()}`)\r\n\t.done(data => {\r\n\t\tif (data.chans && data.version) {\r\n\t\t\tinitAll(data.chans, data.version)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.error('bad-json')\r\n\t\t}\r\n\t})\r\n\t.fail(err => console.error(err))\r\n\r\n\thas3d = has3d()\r\n}\r\n\r\nfunction initAll(chans, version) {\r\n\tchans = chans.filter(chan => !chan.offline)\r\n\tchans.forEach(chan => {\r\n\t\tchan.section = chan.default ? 'default' : 'custom'\r\n\t})\t\r\n\tinstaller.init(chans, version)\r\n\tchanTop.init($('#chantop'), chans)\r\n\tMasher.init($('#battleground'), chans)\r\n\r\n\t$('header').click(() => {\r\n\t\tif($(window).width() <= 640) {\r\n\t\t\tvar unexpand = $('body').hasClass('xpnd')\r\n\t\t\t$('body').toggleClass('xpnd')\r\n\t\t\tif(!unexpand)\r\n\t\t\t\t$('#battleground-wrap').scrollTop(0)\r\n\t\t}\r\n\t})\r\n\t$('#cpanel-wrap img').click(updateCaptcha)\r\n\t$('#captcha-panel').submit(ev => {\r\n\t\tev.preventDefault()\r\n\t\tAPI.captcha($('input[name=captcha]').val())\r\n\t})\r\n\t$(window).keydown(function(ev) {\r\n\t\tif($('body').hasClass('enter-captcha'))\r\n\t\t\treturn\r\n\t\tif(ev.key == 'ArrowLeft' || ev.key == 'a')\r\n\t\t\tAPI.vote('left')\r\n\t\telse if(ev.key == 'ArrowRight' || ev.key == 'd')\r\n\t\t\tAPI.vote('right')\r\n\t\telse return;\r\n\t\t$('.catalog-chan').addClass('post')\r\n\t})\r\n}\r\n\r\nvar installer = {\r\n\tinstalled: [],\r\n\tinit: function(list, version) {\r\n\t\tthis.list = list\r\n\t\tthis.versions = LSfetchJSON('catalogVersions') || {}\r\n\t\tthis.versions.server = version\r\n\t\tlet myChans = LSfetchJSON('myChans_new')\r\n\t\t, freshList = []\r\n\t\tif (myChans && myChans.length) {\r\n\t\t\tmyChans.forEach(mych => {\r\n\t\t\t\tlet found = _.find(list, {id: mych.id})\r\n\t\t\t\tthis.installed.push(found || mych)\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.installed = _.filter(list, {'included': true})\r\n\t\t}\r\n\t\tthis.sync(true)\r\n\t},\r\n\tsync: function(withVersions) {\r\n\t\tlocalStorage['myChans_new'] = JSON.stringify(this.installed)\r\n\t\tif (withVersions) {\r\n\t\t\tlocalStorage['catalogVersions'] = JSON.stringify(this.versions)\r\n\t\t}\r\n\t},\r\n\tisInstalled: function(chid) {\r\n\t\treturn !!_.find(this.installed, {id: chid})\r\n\t},\r\n\tindicate: function(chid, xp, ar) {\r\n\t\t[Masher.pool[chid], _.find(chanTop.chans, {id: chid}).$el].forEach($el => {\r\n\t\t\t$el.find('.adder-remover').text(xp).attr('title', ar)\r\n\t\t})\r\n\t}, \r\n\tinstall: function(chid) {\r\n\t\tlet toInstall = _.find(this.list, {id: chid})\r\n\t\tif (toInstall) {\r\n\t\t\tthis.installed.push(toInstall)\r\n\t\t\tthis.sync()\r\n\t\t\tthis.indicate(chid, '×', 'Удалить')\r\n\t\t}\r\n\t},\r\n\tuninstall: function(chid) {\r\n\t\tvar removed = _.remove(this.installed, {id: chid})\r\n\t\tif (removed) {\r\n\t\t\tthis.sync()\r\n\t\t\tthis.indicate(chid, '+', 'Добавить')\r\n\t\t}\r\n\t},\r\n\ttoggle: function(chid) {\r\n\t\tif(this.isInstalled(chid))\r\n\t\t\tthis.uninstall(chid)\r\n\t\telse\r\n\t\t\tthis.install(chid)\r\n\t}\r\n}\r\n\r\nvar conf = {\r\n\twiki: 'http://wiki.1chan.ca/'\r\n}\r\n\r\nvar injector = {\r\n  inject: function(alias, css) {\r\n    var id = `injector:${alias}`\r\n    var existing = document.getElementById(id)\r\n    if(existing) {\r\n      existing.innerHTML = css\r\n      return\r\n    }\r\n    var head = document.head || document.getElementsByTagName('head')[0]\r\n    , style = document.createElement('style');\r\n    style.type = 'text/css'\r\n    style.id = id\r\n    if (style.styleSheet) {\r\n      style.styleSheet.cssText = css\r\n    } else {\r\n      style.appendChild(document.createTextNode(css))\r\n    }\r\n    head.appendChild(style)\r\n  },\r\n  remove: function(alias) {\r\n    var id = `injector:${alias}`\r\n    var style = document.getElementById(id)\r\n    if(style) {\r\n      var head = document.head || document.getElementsByTagName('head')[0]\r\n      if(head)\r\n        head.removeChild(document.getElementById(id))\r\n    }\r\n  }\r\n}\r\n\r\nfunction has3d() {\r\n  if (!window.getComputedStyle) {\r\n    return false;\r\n  }\r\n  \r\n  var el = document.createElement('p'),\r\n  has3d,\r\n  transforms = {\r\n    'webkitTransform':'-webkit-transform',\r\n    'OTransform':'-o-transform',\r\n    'msTransform':'-ms-transform',\r\n    'MozTransform':'-moz-transform',\r\n    'transform':'transform'\r\n  };\r\n\r\n  // Add it to the body to get the computed style\r\n  document.body.insertBefore(el, null);\r\n\r\n  for(var t in transforms){\r\n    if( el.style[t] !== undefined ){\r\n      el.style[t] = 'translate3d(1px,1px,1px)';\r\n      has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\r\n    }\r\n  }\r\n\r\n  document.body.removeChild(el);\r\n\r\n  return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\r\n}\r\n\r\nfunction LSfetchJSON(key) {\r\n  let val = null, data = localStorage[key]\r\n  if (typeof data !== 'undefined') {\r\n    try {\r\n      val = JSON.parse(data)\r\n    }\r\n    catch(e) {\r\n      console.error(e)\r\n      localStorage.removeItem(key)\r\n    }\r\n  }\r\n  return val\r\n}"],"mappings":"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"}