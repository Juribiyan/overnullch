'use strict';var spinner={init:function init(){var _this=this;this.loadChans().then(function(){_this.putChans(),$('.spinner-container').on('dblclick',_this.putChans.bind(_this))},function(a){return console.error(a)}),$('#spinner').propeller({inertia:0.9993,speed:-1})},loadChans:function loadChans(){var _this2=this;return new Promise(function(a,b){$.getJSON('/chans/chans.json?v='+new Date().getTime()).done(function(c){c.chans.shift(),_this2.chans=c.chans,a()}).fail(function(c){return b(c)})})},putChans:function putChans(){if(this.chans)for(var a=0;3>a;){var b=this.getRandomIndex();this.checkIfNewChan(b)&&(this.indexes[a]=b,this.putChan(this.chans[b],a),a++)}},getRandomIndex:function getRandomIndex(){return Math.floor(Math.random()*this.chans.length)},checkIfNewChan:function checkIfNewChan(a){var b=!0;return this.indexes.forEach(function(c){a===c&&(b=!1)}),b},indexes:[],putChan:function putChan(a,b){var c=a.default?'default':'custom',d='/chans/balls/'+c+'/'+a.id+'.png?uid='+a._id+(a.ballv?'&v='+a.ballv:'');$('#bc-'+(b+1)+' img').attr('src',d).attr('style',makeOffset(a.offset))}};function makeOffset(a){if(!a)return'';var b=a[0],c=a[1],d='';return 0==b&&0==c?d:(['','-webkit-','-ms-','-moz-','-o-'].forEach(function(e){d+=e+'transform: translate('+b+'px, '+c+'px); '}),d)}
//# sourceMappingURL=spinner.js.map