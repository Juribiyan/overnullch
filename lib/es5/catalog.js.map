{"version":3,"file":"catalog.js","names":["main","$","ajaxSetup","dataType","click","toggleClass","fetchPromises","Promise","resolve","reject","getJSON","Date","getTime","done","data","catalog","add","chans","origin","version","fail","err","localStorage","myDrafts","JSON","parse","myDraftsRaw","_","cloneDeep","e","removeItem","console","error","push","myDraftsValid","forEach","draft","name","url","id","match","originalID","errorBoy","pushError","all","then","list","init","bind","ev","$chev","parent","find","css","stopPropagation","addClass","tab","text","toLowerCase","switchTab","ctab","focus","on","val","trim","length","injector","inject","removeClass","$ch","parents","toggle","_libdata","preventDefault","handleFile","originalEvent","jq","msg","append","escape","vers","versMap","v","versions","stringify","sortable","Sortable","create","document","querySelector","handle","animation","onSort","sync","myList","myListUpdated","ich","actual","chanByID","each","arrayify","chan","prop","buildChan","ballSrc","ball","section","_id","ballv","includes","toArray","remove","res","querySelectorAll","ch","offline","makeOffset","insertAfter","log","wiki","conf","search","replace","included","makeGradient","catbg","location","protocol","host","offset","left","top","hov","prefix","Math","round","syncRawDrafts","arr","Array","alias","existing","getElementById","innerHTML","head","getElementsByTagName","style","createElement","type","styleSheet","cssText","appendChild","createTextNode","removeChild","colors","unprefixed","exec","rest","without","gradientDirection","ret","gradientType","isNaN","parseFloat","gradientStops","NodeList","prototype","makeEscapeTagLiteralFn","reloadFrame","frames","reload","openMenu","window","addEventListener","live","files","dataTransfer","target","f","reader","FileReader","onload","imported","result","readAsText","info"],"sources":["../../babel/src/catalog.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst main = () => {\r\n\t$.ajaxSetup({\r\n\t\tdataType: 'json'\r\n\t})\r\n\r\n\t$('#drawer, #hijab').click(() => $('body').toggleClass('list-collapsed'))\r\n\r\n\tlet fetchPromises = [new Promise((resolve, reject) => {\r\n\t\t$.getJSON(`/chans/chans.json?v=${new Date().getTime()}`)\r\n\t\t.done(data => {\r\n\t\t\tcatalog.add(data.chans)\r\n\t\t\tresolve({\r\n\t\t\t\torigin: 'server',\r\n\t\t\t\tversion: data.version\r\n\t\t\t})\r\n\t\t})\r\n\t\t.fail(err => reject(err))\r\n\t})]\r\n\tif (localStorage['mydrafts']) {\r\n\t\tlet myDrafts = null\r\n\t\ttry {\r\n\t\t\tmyDrafts = JSON.parse(localStorage['mydrafts'])\r\n\t\t\tcatalog.myDraftsRaw = _.cloneDeep(myDrafts.chans)\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tlocalStorage.removeItem('mydrafts')\r\n\t\t\tconsole.error(e)\r\n\t\t}\r\n\t\tif (myDrafts.chans) {\r\n\t\t\tfetchPromises.push(new Promise((resolve, reject) => {\r\n\t\t\t\tlet myDraftsValid = []\r\n\t\t\t\tmyDrafts.chans.forEach(draft => {\r\n\t\t\t\t\tif (draft.name && draft.url && draft.id && draft.id.match(/^[a-z\\-_0-9]+$/)) {\r\n\t\t\t\t\t\tdraft.originalID = draft.id\r\n\t\t\t\t\t\tdraft.id += `!draft`\r\n\t\t\t\t\t\tmyDraftsValid.push(draft)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\terrorBoy.pushError(`Черновик #${draft.id} не добавлен в каталог: недостаточно данных или некорректный ID.`)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tcatalog.add(myDraftsValid, 'drafts')\r\n\t\t\t\tresolve({\r\n\t\t\t\t\torigin: 'drafts',\r\n\t\t\t\t\tversion: myDrafts.version\r\n\t\t\t\t})\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n\tPromise.all(fetchPromises).then(list.init.bind(list), err => console.error(err))\r\n\r\n\t$('.tab').click(function(ev) {\r\n\t\tlet $chev = $(this).parent().find('.icon')\r\n\t\tif ($chev.css('display') === 'block' && $chev.css('opacity') == 1) {\r\n\t\t\tev.stopPropagation()\r\n\t\t\t$('#catalog header').addClass('tab-selecting')\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet tab = $(this).text().toLowerCase()\r\n\t\t\tswitchTab(tab)\r\n\t\t}\r\n\t})\r\n\r\n\tlet ctab = localStorage['cat-tab']\r\n\tif (ctab) {\r\n\t\tswitchTab(ctab)\r\n\t}\r\n\r\n\t$('#toggle-search').click(function() {\r\n\t\t$('#catalog').addClass('searching')\r\n\t\t$('#search').focus()\r\n\t})\r\n\t$('#search').on('input', function() {\r\n\t\tlet val = $(this).val().trim().toLowerCase()\r\n\t\t$('#catalog').toggleClass('search-filter', !!val.length)\r\n\t\tinjector.inject('cat-search', `.search-filter .cat-chan[data-search *= \"${val}\"] {display: inline-block}`)\r\n\t})\r\n\t$('#cancel-search').click(function() {\r\n\t\t$('#catalog').removeClass('searching search-filter')\r\n\t\t$('#search').val('')\r\n\t})\r\n\r\n\t$('body')\r\n\t.click(() => $('#catalog header').removeClass('tab-selecting'))\r\n\t.on('click', '.cc-install', function() {\r\n\t\tlet $ch = $(this).parents('.cat-chan')\r\n\t\tlist.toggle($ch[0]._libdata)\r\n\t})\r\n\t.on('click', '.make-embed', function() {\r\n\t\t$(this).parents('.cat-chan').toggleClass('code-on')\r\n\t})\r\n\t.on('dragenter dragend dragover drop dragleave', function(ev) {\r\n\t\tev.preventDefault()\r\n\t\tev.stopPropagation()\r\n\t})\r\n\t.on('drop', ev => handleFile(ev.originalEvent))\r\n\r\n\t$('#up-victim').on('change', ev => handleFile(ev.originalEvent))\r\n\t$('#import-draft').click(() => $('#up-victim').click())\r\n}\r\n\r\nfunction switchTab(tab) {\r\n\t$('.tab').removeClass('tab-selected')\r\n\t$(jq`#tab-${tab}`).addClass('tab-selected')\r\n\t$('#catalog').removeClass('tab-default tab-custom tab-offline tab-drafts').addClass(`tab-${tab}`)\r\n\tlocalStorage['cat-tab'] = tab\r\n}\r\n\r\n/*function displayErrorToggle(text) {\r\n\t$('#errmsgbox').fadeToggle('fast').find('.error-message').text(text || '')\r\n}*/\r\n\r\nvar errorBoy = {\r\n\tpushError: function(msg) {\r\n\t\t$('#error-wrapper').append(html`<div class=\"errmsgbox\" onclick=\"this.remove()\">\r\n\t\t\t<svg id=\"close-errmsg\" class=\"icon\"><use xlink:href=\"#i-x\"></use></svg>\r\n\t\t\t<p class=\"error-message\">${_.escape(msg)}</p>\r\n\t\t</div>`)\r\n\t}\r\n}\r\n\r\nvar list = {\r\n\tinit: function(vers) {\r\n\t\tlet versMap = {}\r\n\t\tvers.forEach(v => versMap[v.origin] = v.origin)\r\n\t\tthis.versions = versMap\r\n\t\tlocalStorage['catalogVersions'] = JSON.stringify(versMap)\r\n\r\n\t\tthis.sortable = Sortable.create(document.querySelector('#boardlist'), {\r\n\t\t\thandle: '.dragger',\r\n\t\t\tanimation: 150,\r\n\t\t\tonSort: this.sync.bind(this)\r\n\t\t})\r\n\t\t\r\n\t\tlet myList = localStorage['myChans_new']\r\n\t\t, myListUpdated = []\r\n\t\tif (myList) {\r\n\t\t\ttry {\r\n\t\t\t\tmyList = JSON.parse(myList)\r\n\t\t\t}\r\n\t\t\tcatch(e) {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t\tlocalStorage.removeItem('myChans_new')\r\n\t\t\t\tmyList = null\r\n\t\t\t}\r\n\t\t\tif (myList && myList.length) {\r\n\t\t\t\tmyList.forEach(ich => {\r\n\t\t\t\t\tlet actual = catalog.chanByID(ich.id)\r\n\t\t\t\t\tif (actual) {\r\n\t\t\t\t\t\tmyListUpdated.push(actual)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!myList) {\r\n\t\t\t$('.included-chan').each(function() {\r\n\t\t\t\tmyListUpdated.push(this._libdata)\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.add(myListUpdated)\r\n\t},\r\n\tadd: function(chans) {\r\n\t\tarrayify(chans).forEach(chan => {\r\n\t\t\t['catbg', 'offset'/*, 'included'*/].forEach(prop => delete chan[prop])\r\n\t\t\tlet $ch = $(this.buildChan(chan))\r\n\t\t\t$ch[0]._libdata = chan\r\n\t\t\t$('#boardlist').append($ch)\r\n\t\t\t$(jq`#cat_${chan.id}`).addClass('installed')\r\n\t\t})\r\n\t\tthis.sync()\r\n\t},\r\n\tbuildChan: function(chan) {\r\n\t\tlet name = _.escape(chan.name)\r\n\t\t, ballSrc = chan.ball || html`/chans/balls/${chan.section}/${chan.section == 'drafts' ? 'no-ball' : chan.id}.png?uid=${chan._id}${chan.ballv ? `&v=${chan.ballv}` : ''}`\r\n\t\treturn html`<li class=\"list-chan\" id=\"installed_${chan.id}\" data-id=\"${chan.id}\">\r\n\t\t\t<img src=\"${ballSrc}\" class=\"list-chanball\">\r\n\t\t\t<div class=\"dragger\"><svg class=\"icon\"><use xlink:href=\"#i-drag\"></use></div>\r\n\t\t\t<div class=\"list-chan-title\">${name || 'Без имени'}</div>\r\n\t\t\t<div class=\"delete-chan\" onclick=\"javascript:list.remove('${chan.id}')\"><svg class=\"icon\"><use xlink:href=\"#i-x\"></use></div>\r\n\t\t</li>`\r\n\t},\r\n\ttoggle: function(chan) {\r\n\t\tif (_.includes(this.sortable.toArray(), chan.id)) {\r\n\t\t\tthis.remove(chan.id)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.add(chan)\r\n\t\t}\r\n\t},\r\n\tremove: function(id) {\r\n\t\t$(jq`#installed_${id}`).remove()\r\n\t\t$(jq`#cat_${id}`).removeClass('installed')\r\n\t\tthis.sync()\r\n\t},\r\n\tsync: function() {\r\n\t\tlet res = []\r\n\t\tdocument.querySelectorAll('.list-chan').forEach(ch => {\r\n\t\t\tres.push(ch._libdata)\r\n\t\t})\r\n\t\tlocalStorage.removeItem('compiledCSS')\r\n\t\tlocalStorage['myChans_new'] = JSON.stringify(res)\r\n\t}\r\n}\r\n\r\nvar catalog = {\r\n\tadd: function(chans, section) {\r\n\t\tarrayify(chans).forEach(chan => {\r\n\t\t\tif (!chan.section) {\r\n\t\t\t\tchan.section = section || (chan.offline ? 'offline' : (chan.default ? 'default' : 'custom'))\r\n\t\t\t}\r\n\t\t\tchan.url = _.escape(chan.url)\r\n\t\t\tlet $ch = $(this.buildChan(chan))\r\n\t\t\t$ch[0]._libdata = chan\r\n\t\t\t$('#catalog-contents').append($ch)\r\n\t\t\tthis.css += this.makeOffset(chan)\r\n\t\t})\r\n\t\t$('#import-draft').insertAfter('.cat-chan:last')\r\n\t\tinjector.inject('chan-offsets', this.css)\r\n\t},\r\n\tbuildChan: function(chan) {\r\n\t\tconsole.log(chan.id)\r\n\t\tlet name = _.escape(chan.name)\r\n\t\t, wiki = (chan.wiki && chan.wiki.match(/https?:\\/\\//)) ? chan.wiki : (conf.wiki+(chan.wiki || name))\r\n\t\t, search = `${chan.originalID || chan.id} ${name} ${chan.url.replace(/^https?:\\/\\//, '')} ${(chan.wiki || '').replace(/^https?:\\/\\//, '')}`\r\n\t\t, ballSrc = chan.ball || `/chans/balls/${chan.section}/${chan.section == 'drafts' ? 'no-ball' : chan.id}.png?uid=${chan._id}${chan.ballv ? `&v=${chan.ballv}` : ''}`\r\n\t\treturn html`<div class=\"cat-chan sect-${chan.section} ${chan.included ? 'included-chan' : ''}\" data-search=\"${search.toLowerCase()}\" id=\"cat_${chan.id}\">\r\n\t\t\t<div class=\"cc-ball-wrap\" style=\"${makeGradient(chan.catbg)}\">\r\n\t\t\t\t<img src=\"${ballSrc}\" class=\"cc-ball\"></img>\r\n\t\t\t\t<div class=\"channame-overlay\">\r\n\t\t\t\t\t<a href=\"${chan.url}\">${name}</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cc-toolbar\">\r\n\t\t\t\t<button class=\"cc-install\">\r\n\t\t\t\t\t<span class=\"cci-i\">Добавить</span>\r\n\t\t\t\t\t<span class=\"cci-u\">Удалить</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"chan-options make-embed\" title=\"Код для кнопки\">\r\n\t\t\t\t<svg class=\"icon\">\r\n\t\t\t\t\t<use class=\"co-code\" xlink:href=\"#i-code\"></use>\r\n\t\t\t\t\t<use class=\"co-close\" xlink:href=\"#i-x\"></use>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<a class=\"chan-options info-link\" target=\"_blank\" href=\"${wiki}\" title=\"Информация\">\r\n\t\t\t\t<svg class=\"icon\"><use xlink:href=\"#i-info\"></use></svg>\r\n\t\t\t</a>\r\n\t\t\t<textarea onclick=\"this.select()\">${_.escape(`<script src=\"${document.location.origin || (document.location.protocol + '//' + document.location.host)}/embed/add.js\" chan=\"${chan.id}\"></script>`)}</textarea>\r\n\t\t</div>`\r\n\t},\r\n\tcss: '',\r\n\tmakeOffset: function(chan) {\r\n\t\tif (! chan.offset)\r\n\t\t\treturn '';\r\n\t\tlet left = chan.offset[0], top = chan.offset[1]\r\n\t\t, res = '', hov = ''\r\n\t\tif (left == 0 && top == 0)\r\n\t\t\treturn '';\r\n\t\t;['', '-webkit-', '-ms-', '-moz-', '-o-'].forEach(prefix => {\r\n\t\t\tres += `${prefix}transform: translate(${left}px, ${top}px) scale(1); `\r\n\t\t\thov += `${prefix}transform: translate(${Math.round(left * 0.66)}px, ${Math.round(top * 0.66)}px) scale(0.66); `\r\n\t\t})\r\n\t\treturn `#cat_${chan.id.replace(/\\!/g, '\\\\!')} .cc-ball {${res}}\r\n\t\t\t#cat_${chan.id.replace(/\\!/g, '\\\\!')}:hover .cc-ball {${hov}}`\r\n\t},\r\n\tchanByID: id => {\r\n\t\tlet ch = document.querySelector(jq`#cat_${id}`)\r\n\t\tif (ch && ch._libdata) {\r\n\t\t\treturn ch._libdata\r\n\t\t}\r\n\t\telse return null\r\n\t},\r\n\tmyDraftsRaw: [],\r\n\tsyncRawDrafts: function() {\r\n\t\tlocalStorage['mydrafts'] = JSON.stringify({\r\n\t\t\tversion: new Date().getTime(),\r\n\t\t\tchans: this.myDraftsRaw\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction arrayify(arr) {\r\n\treturn (arr instanceof Array) ? arr : [arr]\r\n}\r\n\r\nvar injector = {\r\n\tinject: function(alias, css) {\r\n\t\tvar id = `injector:${alias}`\r\n\t\tvar existing = document.getElementById(id)\r\n\t\tif (existing) {\r\n\t\t\texisting.innerHTML = css\r\n\t\t\treturn\r\n\t\t}\r\n\t\tvar head = document.head || document.getElementsByTagName('head')[0]\r\n\t\t, style = document.createElement('style');\r\n\t\tstyle.type = 'text/css'\r\n\t\tstyle.id = id\r\n\t\tif (style.styleSheet) {\r\n\t\t\tstyle.styleSheet.cssText = css\r\n\t\t} else {\r\n\t\t\tstyle.appendChild(document.createTextNode(css))\r\n\t\t}\r\n\t\thead.appendChild(style)\r\n\t},\r\n\tremove: function(alias) {\r\n\t\tvar id = `injector:${alias}`\r\n\t\tvar style = document.getElementById(id)\r\n\t\tif (style) {\r\n\t\t\tvar head = document.head || document.getElementsByTagName('head')[0]\r\n\t\t\tif (head)\r\n\t\t\t\thead.removeChild(document.getElementById(id))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction makeGradient(colors) {\r\n\tlet unprefixed = `linear-gradient(to bottom, #${colors[0]} 0%, #${colors[1]} 100%)`\r\n\t, res = /(((?:radial|linear)-gradient)\\((?:(ellipse) at center|(-?[0-9]+)deg|to (right|bottom)), ?(.+)\\));?/i.exec(unprefixed);\r\n\tif (res === null) return 'background:' + unprefixed;\r\n\tres = _.rest(_.without(res, undefined));\r\n\tvar ret = res[0]+'; ';\r\n\tvar gradientType = res[1];\r\n\tvar gradientDirection;\r\n\tif (!isNaN(res[2])) gradientDirection = (90 - parseFloat(res[2])) + 'deg, ';\r\n\telse if (res[2] == 'bottom') gradientDirection = 'top, ';\r\n\telse if (res[2] == 'right') gradientDirection = 'left, ';\r\n\telse gradientDirection = 'center, ellipse cover, ';\r\n\tvar gradientStops = res[3];\r\n\t_.each(['-o-', '-webkit-', '-moz-'], function(prefix) {\r\n\t\tret += 'background:' + prefix + gradientType + '(' + gradientDirection + gradientStops + '); ';\r\n\t});\r\n\treturn 'background:' + ret;\r\n}\r\n\r\nNodeList.prototype.forEach = Array.prototype.forEach;\r\n\r\n// Escape tag literal functions for jQuery queries and regular expressions\r\nvar jq = makeEscapeTagLiteralFn(v => v.replace(/([!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~ ])/g, \"\\\\$1\"))\r\n\r\nvar conf = {\r\n\twiki: 'http://wiki.1chan.ca/'\r\n}\r\n\r\nfunction reloadFrame() {\r\n\tparent.frames.list.document.location.reload()\r\n\tparent.openMenu()\r\n}\r\n\r\nwindow.addEventListener(\"message\", () => {\r\n\tparent.frames.live.document.location.reload()\r\n}, false)\r\n\r\nfunction handleFile(ev) {\r\n\tlet files = (ev.type == \"drop\") ? ev.dataTransfer.files : ev.target.files\r\n\t, f = files[0]\r\n\r\n\tif (f) {\r\n\t\tvar reader = new FileReader()\r\n\t\t\r\n\t\treader.onload = (function() {\r\n\t\t\treturn (function(e) {\r\n\t\t\t\tlet imported = null\r\n\t\t\t\ttry {\r\n\t\t\t\t\timported = JSON.parse(e.target.result)\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\terrorBoy.pushError('Не удалось разобрать JSON')\r\n\t\t\t\t}\r\n\t\t\t\tif (imported) {\r\n\t\t\t\t\tif (!(imported.name && imported.url && imported.id && imported.id.match(/^[a-z\\-_0-9]+$/))) {\r\n\t\t\t\t\t\terrorBoy.pushError('Невозможно добавить черновик. Недостаточно данных.')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.find(catalog.myDraftsRaw, {id: imported.id})) {\r\n\t\t\t\t\t\terrorBoy.pushError('Черновик с таким id уже существует')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatalog.myDraftsRaw.push(_.cloneDeep(imported))\r\n\t\t\t\t\tcatalog.syncRawDrafts()\r\n\t\t\t\t\timported.id += `!draft`\r\n\t\t\t\t\tcatalog.add(imported, 'drafts')\r\n\t\t\t\t}\r\n\t\t\t}).bind(this)\r\n\t\t}).bind(this)(f)\r\n\r\n\t\treader.readAsText(f)\r\n\t}\r\n}\r\n\r\nconsole.info('Я не на ангуляре. Не на ангуляре.')\r\n"],"mappings":"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"}