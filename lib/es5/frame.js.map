{"version":3,"file":"frame.js","names":["_WIKI","_SITENAME","main","parent","allReady","lazyBoy","init","$","ajaxSetup","dataType","on","jq","data","slideToggle","settings","onToggle","click","toggleBehavior","menu","toggle","_frames","layout","_","contains","behavior","open","chans","live","hasClass","attr","router","noFollow","fadeToggle","window","test","navigator","userAgent","injector","inject","makeEscapeTagLiteralFn","fn","v","strings","result","i","length","replace","rx","escapeRegExp","openMenu","close","closeMenu","_open","flatProps","assocProps","allProps","concat","forEach","propGroup","param","val","LSfetchJSON","isEmpty","getChanSpecificPreferences","chid","ret","prop","includes","handleCheck","$ch","toggleClass","find","each","href","push","without","save","toggleAssoc","catname","hasOwnProperty","key","props","localStorage","JSON","stringify","$el","is","match","deleteCategory","$cat","parents","hide","show","restoreCats","deletedCats","handleBoardClick","brd","handleLinkClick","addClass","handleHomeClick","a","removeClass","history","replaceState","own","id","wiki","boards","name","url","build","model","html","reduce","htm","ch","buildChan","insertWidgets","cssCache","lessCompiler","compile","rebuildChan","chan","findIndex","sync","assign","prefix","defaults","hasBoards","userboards","useAnonym","escape","colors","headOnly","showDirs","preventRouterRegistering","register","cats","widgets","supported","wiType","widgetType","widgetID","newWidget","userboards_system","userboards_catname","cachedUserboards","proceedUbrds","ubrds","normalizeUbrds","eq","updateUserboards","get","done","bind","fail","err","console","error","status","http_code","contents","hiddenChans","h","cat","buildCat","flat","catID","hidden","hiddenCats","hiddenCompletely","board","desc","dir","cleanURL","external","postfix","chansCache","fetchPromises","Promise","resolve","reject","getJSON","Date","getTime","origin","myDrafts","myDraftsValid","draft","version","catalogVersions","all","then","versMap","allChans","changed","sect","ver","filter","section","map","remove","warn","removeItem","includedchans","chg","info","versions","replaceWith","document","querySelectorAll","wph","getAttribute","pool","widget","parentNode","replaceChild","el","title","boardUri","boardName","uri","parse","e","res","idClassEscaped","advanced_less","base","less","render","output","css","NodeList","prototype","Array","alias","existing","getElementById","innerHTML","head","getElementsByTagName","style","createElement","type","styleSheet","cssText","appendChild","createTextNode","removeChild","radio","streams","currentStream","saved","volume","stream","$_name","template","$_path","path","mixedRange","n","mime","audio","appendTo","playPause","onloadeddata","$selectWrapper","options","ix","setStream","append","change","value","addJob","$volumeter","buildVolumeter","reflectVolumeChange","setV","setVolume","onCategoryClose","paused","streamID","playing","setAttribute","play","force","networkState","pause","width","height","onchange","baseV","evToVal","ev","down","pageX","$vm","offset","left","buildSVG","cls","cns","tag","createElementNS","svg","classList","add","poly","bg","fg","$w","mousedown","mousemove","input","m","re","exec","index","lastIndex","range","exp","RegExp","split","flatten","currentHash","determineIdentity","guro","indicateOn","$chan","isOWN","decodeURIComponent","$brd","text","event","script_installed","scriptInstalled","frames","location","protocol","host","identity","follow","hash","clearHash","execute","que","ready","splice","job","addEventListener","pathname","postMessage","check3d","getComputedStyle","has3d","transforms","t","body","insertBefore","getPropertyValue","transform","update","showForm","scheduleUpdate","textStatus","jqXHR","currentList","responseText","onoff","link","buildLink","description","getDomainName","toggleShare","focus","ms","clearInterval","interval","setInterval"],"sources":["../../babel/src/frame.js"],"sourcesContent":["\"use strict\"\r\n\r\nconst _WIKI = 'https://wiki.1chan.ca/'\r\n, _SITENAME = \"Овернульч\"\r\n\r\nfunction main() {\r\n  parent.allReady()\r\n\r\n  lazyBoy.init()\r\n\r\n  $.ajaxSetup({ dataType: 'json' })\r\n\r\n  // Colorization mode selector\r\n  $('body')\r\n  .on('click', '.toggler', function() {\r\n    $(jq`#${$(this).data('toggle')}`).slideToggle('fast', function() {\r\n      settings.onToggle($(this))\r\n    })\r\n  })\r\n  \r\n\r\n  $('#pinunpin').click(parent.toggleBehavior)\r\n\r\n  $('.menu-toggle').click(menu.toggle)\r\n  $('#menu-show').on('mouseenter', function() {\r\n    if(parent._frames.layout == 'vertical' && _.contains(['overlay', 'shift'], parent._frames.behavior)) {\r\n      menu.open()\r\n    }\r\n  })\r\n\r\n  settings.init()\r\n  chans.init()\r\n  live.init()\r\n\r\n  $('#refresh').click(function() {\r\n    if ($(this).hasClass('script-installed')) {\r\n      parent.$('#main').attr('src', router.noFollow)\r\n    }\r\n    else {\r\n      $('#noscript-warning').fadeToggle('fast')\r\n    }\r\n  })\r\n\r\n  if (('netscape' in window) && / rv:/.test(navigator.userAgent)) {\r\n    injector.inject('no-shadow-for-you', `.showlive #live-toggle svg, #live-panel svg {filter: none!important; -webkit-filter: none!important;}`)\r\n  }\r\n}\r\n\r\n// Produces a function which applies fn() to all values\r\nfunction makeEscapeTagLiteralFn(fn = v => v) {\r\n  return function(strings, ...values) {\r\n    let result = \"\"\r\n    for (let i = 0; i < strings.length; i++) {\r\n      result += strings[i]\r\n      if (i < values.length) {\r\n        result += fn(''+values[i])\r\n      }\r\n    }\r\n    return result\r\n  }\r\n}\r\n// Escape tag literal functions for jQuery queries and regular expressions\r\nvar jq = makeEscapeTagLiteralFn(v => v.replace(/([!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~ ])/g, \"\\\\$1\"))\r\n, rx = makeEscapeTagLiteralFn(_.escapeRegExp)\r\n\r\nvar menu = {\r\n  open: function() {\r\n    parent.openMenu()\r\n  },\r\n  close: function() {\r\n    parent.closeMenu()\r\n  },\r\n  toggle: function() {\r\n    if(parent._open) menu.close()\r\n    else menu.open()\r\n  }\r\n}\r\n\r\nvar settings = {\r\n  flatProps: ['hiddenChans', 'showDirs', 'useAnonym', 'headOnly'],\r\n  assocProps: ['hiddenCats', 'deletedCats', 'cachedUserboards'],\r\n  init: function() {\r\n    this.allProps = this.flatProps.concat(this.assocProps)\r\n    ;['flatProps', 'assocProps'].forEach((propGroup) => {\r\n      this[propGroup].forEach(param => {\r\n        let val = LSfetchJSON(param)\r\n        this[param] = _.isEmpty(val) ? (propGroup==='flatProps' ? [] : {}) : val\r\n      })\r\n    })\r\n  },\r\n  getChanSpecificPreferences: function(chid) {\r\n    let ret = {}\r\n    this.flatProps.forEach(prop => {\r\n      ret[prop] = !!_.includes(this[prop], chid)\r\n    })\r\n    this.assocProps.forEach(prop => {\r\n      ret[prop] = this[prop][chid] || []\r\n    })\r\n    return ret\r\n  },\r\n  handleCheck: function(prop, chid) {\r\n    let on = !_.includes(this[prop], chid)\r\n\r\n    let $ch = $(jq`.chan_${chid}`)\r\n    if (prop === 'showDirs' || prop === 'headOnly') {\r\n      $ch.toggleClass(prop, !!on)\r\n    }\r\n    if (prop === 'useAnonym') {\r\n      $ch.find('a[data-href]').each(function() {\r\n        let href = (on ? 'https://anonym.to?' : '') + $(this).data('href')\r\n        $(this).attr('href', href)\r\n      })\r\n    }\r\n\r\n    this.toggle(chid, prop, on)\r\n\r\n    return false\r\n  },\r\n  toggle: function(chid, prop, on) {\r\n    if (!on) {\r\n      this[prop] = _.without(this[prop], chid)\r\n    }\r\n    else {\r\n      this[prop].push(chid)\r\n    }\r\n    this.save()\r\n  },\r\n  toggleAssoc: function(prop, chid, catname, on) {\r\n    if (! this[prop].hasOwnProperty(chid)) {\r\n      if (on) {\r\n        this[prop][chid] = [catname]\r\n      }\r\n    }\r\n    else {\r\n      if (on) {\r\n        this[prop][chid].push(catname)\r\n      }\r\n      else {\r\n        this[prop][chid] = _.without(this[prop][chid], catname)\r\n      }\r\n    }\r\n    this.save()\r\n    return this[prop][chid].length\r\n  },\r\n  save: function(key) {\r\n    let props = key ? [key] : this.allProps\r\n    props.forEach(prop => localStorage[prop] = JSON.stringify(this[prop]))\r\n  },\r\n  onToggle: function($el) {\r\n    let on = $el.is(':visible')\r\n    if ($el.hasClass('boards')) {\r\n      let chid = $el.attr('id').match(/^boards_(.+)/)[1]\r\n      this.toggle(chid, 'hiddenChans', !on)\r\n    }\r\n    if ($el.hasClass('cat-boards')) {\r\n      this.toggleAssoc('hiddenCats', $el.data('chid'), $el.data('catname'), !on)\r\n    }\r\n  },\r\n  deleteCategory: function(chid, catname) {\r\n    let $cat = $(jq`#cat_${chid}_${catname}`).parents('.category')\r\n    $cat.hide()\r\n    this.toggleAssoc('deletedCats', chid, catname, true)\r\n    $cat.parents('.chan').find('.restore-cats').show()\r\n  },\r\n  restoreCats: function(chid) {\r\n    let $ch = $(jq`.chan_${chid}`)\r\n    $ch.find('.category').show()\r\n    $ch.find('.restore-cats').hide()\r\n    if (this.deletedCats.hasOwnProperty(chid)) {\r\n      this.deletedCats[chid] = []\r\n      this.save()\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleBoardClick(brd) {\r\n  handleLinkClick(brd)\r\n  $(brd).addClass('boardover').parents('.chan').addClass('onchan')\r\n}\r\n\r\nfunction handleHomeClick(a) {\r\n  handleLinkClick(a)\r\n  $(a).parents('.chan').addClass('onchan')\r\n}\r\n\r\nfunction handleLinkClick(a) {\r\n  $('.boardover').removeClass('boardover')\r\n  $('.onchan').removeClass('onchan')\r\n  if(parent._frames.layout == 'horizontal') {\r\n    menu.close()\r\n  }\r\n  parent.history.replaceState(null, null, `/#/${a.href}`);\r\n}\r\n\r\nvar chans = {\r\n  own: {\r\n    own: true,\r\n    id: '!OWN',\r\n    wiki: 'Овернульч',\r\n    boards: [\r\n      {\r\n        \"name\": \"\",\r\n        \"boards\": [\r\n          /*{\r\n            \"desc\": \"Метадоска\",\r\n            \"dir\": \"meta\"\r\n          },*/\r\n          {\r\n            \"desc\": \"Каталог сайтов\",\r\n            \"dir\": \"catalog\"\r\n          },\r\n          {\r\n            \"desc\": \"Редактор сайтов\",\r\n            \"dir\": \"editor\"\r\n          },\r\n          {\r\n            \"desc\": \"Ballsmash\",\r\n            \"dir\": \"mash\"\r\n          },\r\n          {\r\n            \"desc\": \"Библиотека лупов\",\r\n            \"dir\": \"loops\"\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    // colors:[\"aaaaaa\",\"bbbbbb\"],\r\n    name: \"Овернульч\",\r\n    url: '//0chan.one'\r\n  },\r\n  build: function(chans) {\r\n    this.model = chans\r\n    $('#content').html([this.own].concat(chans).reduce((htm, ch) => htm + this.buildChan(ch), ''))\r\n    this.insertWidgets()\r\n    let cssCache = localStorage['compiledCSS']\r\n    if (cssCache) {\r\n      injector.inject('framestyles', cssCache)\r\n    }\r\n    else {\r\n      lessCompiler.compile(this.model.concat(this.own))\r\n    }\r\n  },\r\n  rebuildChan: function(chan) {\r\n    this.model[_.findIndex(this.model, {id: chan.id})] = chan\r\n    $(jq`.chan_${chan.id}`).html(this.buildChan(chan))\r\n    this.insertWidgets()\r\n    this.sync()\r\n  },\r\n  buildChan: function(chan) {\r\n    _.assign(chan, settings.getChanSpecificPreferences(chan.id))\r\n    if (! (chan.wiki && chan.wiki.match(/https?:\\/\\//))) {\r\n      chan.wiki = _WIKI+(chan.wiki || chan.name)\r\n    }\r\n    if (chan.prefix === '') {\r\n      delete chan.prefix\r\n    }\r\n    _.defaults(chan, this.defaults)\r\n\r\n    let hasBoards = (chan.boards && chan.boards.length) || chan.userboards\r\n    , url = chan.own ? `${chan.url}/index.html` : (((!chan.own && chan.useAnonym) ? 'https://anonym.to?' : '') + chan.url)\r\n    , name = _.escape(chan.name)\r\n    , htm = html`\r\n    <div class=\"chan chan_${chan.id}${!chan.colors ? ' uncolorized' : ''}${chan.headOnly ? ' headOnly' : ''}${chan.showDirs ? ' showDirs' : ''}${!hasBoards ? ' no-boards' : ''}\">\r\n      <a onclick=\"handleHomeClick(this)\" target=\"main\" href=\"${url}\" class=\"chan-header head-link\" data-href=\"${chan.url}\"${chan.own ? ' onclick=\"router.clearHash()\"' : ''}>\r\n        <div class=\"chan-name\">${name}</div>\r\n      </a>\r\n      <div class=\"chan-header\">\r\n        <div class=\"chan-name toggler\" data-toggle=\"boards_${chan.id}\">${name}</div>\r\n      </div>\r\n      <div class=\"chan-overlay chan-overlay-left\">\r\n        ${hasBoards ? html`<a onclick=\"handleHomeClick(this)\" class=\"iconic-link home-link\" target=\"main\" href=\"${url}\" data-href=\"${chan.url}\" title=\"Домашняя страница\"${chan.own ? ' onclick=\"router.clearHash()\"' : ''}>\r\n          <svg class=\"icon\"><use xlink:href=\"#i-home\"></use></svg>\r\n        </a>` : ''}\r\n        <a class=\"iconic-link\" target=\"main\" href=\"${chan.wiki}\" title=\"Информация на вики\">\r\n          <svg class=\"icon\"><use xlink:href=\"#i-info\"></use></svg>\r\n        </a>\r\n      </div>\r\n      <div class=\"chan-overlay chan-overlay-right\">\r\n        <button class=\"toggler\" data-toggle=\"settings_${chan.id}\" title=\"Меню сайта\">\r\n          <svg class=\"icon\"><use xlink:href=\"#i-dots\"></use></svg>\r\n        </button>\r\n      </div>\r\n      <div class=\"chan-menu\" style=\"display:none\" id=\"settings_${chan.id}\">\r\n        <div class=\"settings-entry ifnoboards-hide\">\r\n          <label for=\"showdirs_${chan.id}\">\r\n          <input type=\"checkbox\" id=\"showdirs_${chan.id}\" ${chan.showDirs ? 'checked' : ''} onchange=\"settings.handleCheck('showDirs', '${chan.id}')\">\r\n          <span>Показывать директории</span>\r\n          </label>\r\n        </div>\r\n        <div class=\"settings-entry ifnoboards-hide\">\r\n          <label for=\"headonly_${chan.id}\">\r\n          <input type=\"checkbox\" id=\"headonly_${chan.id}\" ${chan.headOnly ? 'checked' : ''} onchange=\"settings.handleCheck('headOnly', '${chan.id}')\">\r\n          <span>Скрыть доски</span>\r\n          </label>\r\n        </div>\r\n        ${!chan.own ? \r\n        html`<div class=\"settings-entry\">\r\n          <label for=\"useanonym_${chan.id}\">\r\n          <input type=\"checkbox\" id=\"useanonym_${chan.id}\" ${chan.useAnonym ? 'checked' : ''} onchange=\"settings.handleCheck('useAnonym', '${chan.id}')\">\r\n          <span>Использовать anonym.to</span>\r\n          </label>\r\n        </div>\r\n        <div class=\"settings-entry restore-cats\" ${chan.deletedCats.length ? '' : 'style=\"display:none\"'}>\r\n          <button class=\"trash-btn\" onclick=\"settings.restoreCats('${chan.id}')\">\r\n            <svg class=\"icon\">\r\n              <use class=\"i-trash\" xlink:href=\"#i-trash\"></use>\r\n              <use class=\"i-trash-open\" xlink:href=\"#i-trash-open\"></use>\r\n            </svg>\r\n            <span>Восстановить категории</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"settings-entry\">\r\n          <button onclick=\"chans.remove('${chan.id}')\">\r\n            <svg class=\"icon\"><use xlink:href=\"#i-delete\"></use></svg>\r\n            <span>Удалить из фрейма</span>\r\n          </button>\r\n        </div>` : ''}\r\n      </div>`\r\n\r\n    if (!this.preventRouterRegistering) {\r\n    \trouter.register(chan)\r\n    }\r\n\r\n    let cats = chan.boards\r\n\r\n    widgets.supported.forEach(wiType => {\r\n      if (chan.hasOwnProperty(wiType)) {\r\n        cats = [{\r\n          name: widgets[wiType].name,\r\n          widgetType: wiType,\r\n          widgetID: widgets[wiType].newWidget(chan[wiType], chan.id)\r\n        }].concat(cats)\r\n      }\r\n    })\r\n\r\n    if (chan.userboards) {\r\n      if (!chan.userboards_system) {\r\n        chan.userboards_system = 'instant'\r\n      }\r\n\r\n      cats = [{\r\n        name: chan.userboards_catname,\r\n        boards: chan.cachedUserboards,\r\n        userboards: true\r\n      }].concat(cats)\r\n\r\n      let proceedUbrds = data => {\r\n        let ubrds = normalizeUbrds[chan.userboards_system](data)\r\n        if (! _.eq(chan.cachedUserboards, ubrds)) {\r\n          this.updateUserboards(chan, ubrds)\r\n        }\r\n      }\r\n\r\n      $.get(chan.userboards)\r\n      .done(proceedUbrds.bind(this))\r\n      .fail(err => {\r\n        console.error(err)\r\n        $.get(`/cors-proxy.php?url=${chan.userboards}`)\r\n        .done(data => {\r\n          if(data.status.http_code == 200) {\r\n            proceedUbrds(data.contents)\r\n          }\r\n        })\r\n        .fail(function(err) {\r\n          console.error(err)\r\n        })\r\n      })\r\n    }\r\n\r\n    if (cats && cats.length) {\r\n      htm += `<div class=\"boards\" id=\"boards_${chan.id}\" ${chan.hiddenChans ? 'style=\"display:none\"' : ''}>`\r\n      + cats.reduce((h, cat) => h + this.buildCat(chan, cat, !(cats.length > 1)), '')\r\n      + '</div>'\r\n    }\r\n\r\n    htm += `</div>`\r\n\r\n    return htm\r\n  },\r\n  buildCat: function(chan, cat, flat) {\r\n    cat.name = _.escape(cat.name).replace(' ', ' ')\r\n    let catID = cat.widgetType ? `!${cat.widgetType}` : cat.name\r\n    , hidden = _.includes(chan.hiddenCats, catID)\r\n    , hasBoards = (cat.boards && cat.boards.length)\r\n    , hide = ' style=\"display:none\"'\r\n    , hiddenCompletely = (!cat.widgetID && !hasBoards) || _.includes(chan.deletedCats, catID)\r\n    , htm = `<div class=\"category${cat.userboards ? ' userboards' : ''}\"${hiddenCompletely ? hide : ''}${cat.widgetID ? ` data-widget=\"${cat.widgetID}\"` : ''}>`\r\n    if (!flat) {\r\n      htm += html`\r\n      <div class=\"cat-header toggler\" data-toggle=\"cat_${chan.id}_${catID}\">\r\n        <div class=\"ch-name\">${cat.name}</div>\r\n        <div class=\"cat-options\">\r\n          <svg class=\"icon i-delete del-cat\" onclick=\"event.stopPropagation();settings.deleteCategory('${chan.id}', '${catID}')\"><use xlink:href=\"#i-delete\"></use></svg>\r\n        </div>\r\n      </div>`\r\n    }\r\n    if (hasBoards || cat.widgetID) {\r\n      htm += `<div class=\"cat-boards\"${hidden ? hide : ''}${!flat ? ` id=\"cat_${chan.id}_${catID}\" data-chid=\"${chan.id}\" data-catname=\"${catID}\"` : ''}>`\r\n    }\r\n    if (hasBoards) {\r\n      cat.boards.forEach(board => {\r\n        let desc = _.escape(board.desc)\r\n        , dir = _.escape(board.dir)\r\n        , cleanURL = board.external ? board.url : (chan.url + chan.prefix + dir + chan.postfix)\r\n        , url = (chan.useAnonym ? 'https://anonym.to?' : '') + cleanURL\r\n        htm += html`\r\n        <a target=\"main\" href=\"${url}\" class=\"board${board.external ? ' external' : ''}\" data-href=\"${cleanURL}\" data-dir=\"${dir}\" onclick=\"handleLinkClick(this)\">\r\n          ${board.external ? '' : `<span class=\"board-dir\">/${dir}/ - </span>`}<span class=\"board-name\">${desc}</span>\r\n        </a>`\r\n      })\r\n      htm += '</div>'\r\n    }\r\n    if(cat.widgetID) {\r\n      htm += `<div class=\"widget-placeholder\" id=\"${cat.widgetID}\"></div></div>` // /.widget-placeholder /.cat-boards\r\n    }\r\n    \r\n    htm += `</div>` // /.category\r\n\r\n    return htm\r\n  },\r\n  defaults: {\r\n    userboards_catname: '2.0',\r\n    prefix: '/',\r\n    postfix: ''\r\n  },\r\n  init: function() {\r\n    // Build frame from cache\r\n    let chansCache = LSfetchJSON('myChans_new')\r\n    if (chansCache) {\r\n      // Style frame from cache\r\n      this.build(chansCache)\r\n    }\r\n    // Get some fress JSON\r\n    let fetchPromises = [new Promise((resolve, reject) => {\r\n      $.getJSON(`/chans/chans.json?v=${new Date().getTime()}`)\r\n      .done(data => {\r\n        data.origin = 'server'\r\n        resolve(data)\r\n      })\r\n      .fail(reject)\r\n    })]\r\n    let myDrafts = LSfetchJSON('mydrafts')\r\n    if (myDrafts && myDrafts.chans) {\r\n      fetchPromises.push(new Promise((resolve, reject) => {\r\n        let myDraftsValid = []\r\n        myDrafts.chans.forEach(draft => {\r\n          if (draft.name && draft.url) {\r\n            draft.id = `${draft.id}!draft`\r\n            myDraftsValid.push(draft)\r\n          }\r\n        })\r\n        resolve({\r\n          origin: 'drafts',\r\n          chans: myDraftsValid,\r\n          version: myDrafts.version || 'unknown'\r\n        })\r\n      }))\r\n    }\r\n    // Versions from the last update\r\n    let catalogVersions = LSfetchJSON('catalogVersions')\r\n    Promise.all(fetchPromises).then(data => {\r\n      let versMap = {}\r\n      , allChans = []\r\n      , changed = []\r\n      data.forEach(sect => {\r\n        versMap[sect.origin] = sect.version\r\n        allChans = allChans.concat(sect.chans)\r\n        let ver = catalogVersions ? (+catalogVersions[sect.origin] || null) : null\r\n        if (chansCache && chansCache.length) {\r\n          // Check if data for currect origin is newer\r\n          if (ver !== +sect.version) {\r\n            changed.push({\r\n              origin: sect.origin,\r\n              version: sect.version\r\n            })\r\n            let filter = sect.origin == 'drafts' ? {section: 'drafts'} : (i => (i.section == 'default' || i.section == 'custom' || i.section == 'offline'))\r\n            // Update all installed chans\r\n            _.map(_.filter(chansCache, filter), 'id').forEach(id => {\r\n              let ch = _.find(sect.chans, {id: id})\r\n              if (ch) {\r\n                this.rebuildChan(ch)\r\n              }\r\n              else {\r\n                this.remove(id)\r\n                console.warn(`Removed unknown chan #${id} from frame`)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n      // Register chans in router to properly display name\r\n      allChans.forEach(router.register.bind(router))\r\n      this.preventRouterRegistering = true\r\n\r\n      if (!(chansCache && chansCache.length)) {\r\n        localStorage.removeItem('compiledCSS')\r\n        let includedchans = _.filter(allChans, 'included')\r\n        _.remove(includedchans, 'offline')\r\n        this.build(includedchans)\r\n      }\r\n      if (changed.length) {\r\n        // Restyle chans if needed\r\n        lessCompiler.compile(this.model.concat(this.own))\r\n        changed.forEach(chg => {\r\n          console.info(`Updated ${chg.origin}-originated chans' cache to v.=${chg.version}`)\r\n        })\r\n      }\r\n      this.versions = versMap\r\n      this.sync()\r\n    })\r\n  },\r\n  preventRouterRegistering: false,\r\n  remove: function(chid) {\r\n    _.remove(this.model, {id: chid})\r\n    $(jq`.chan_${chid}`).remove()\r\n    this.sync()\r\n    return false\r\n  },\r\n  updateUserboards: function(chan, boards) {\r\n    let cat = {\r\n      name: chan.userboards_catname,\r\n      boards: boards,\r\n      userboards: true\r\n    }\r\n    $(jq`.chan_${chan.id} .userboards`).replaceWith(this.buildCat(chan, cat, false))\r\n    settings.cachedUserboards[chan.id] = boards\r\n    settings.save('cachedUserboards')\r\n  },\r\n  sync: function() {\r\n    _.each(this.model, ch => delete ch.cachedUserboards)\r\n    localStorage['catalogVersions'] = JSON.stringify(this.versions)\r\n    localStorage['myChans_new'] = JSON.stringify(this.model)\r\n  },\r\n  insertWidgets: function() {\r\n    document.querySelectorAll('.widget-placeholder').forEach(wph => {\r\n      let widgetID = wph.getAttribute('id')\r\n      if(widgets.pool.hasOwnProperty(widgetID)) {\r\n        let widget = widgets.pool[widgetID]\r\n        wph.parentNode.replaceChild(widget.el, wph)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nvar normalizeUbrds = {\r\n  'instant': data => data.map(brd => {\r\n    if (brd.name) {\r\n      brd.dir = brd.name\r\n    }\r\n    return brd\r\n  }),\r\n  '0chan': data => data.boards.map(brd => {\r\n    brd.desc = brd.name\r\n    return brd\r\n  }),\r\n  'meguca': data => data.map(brd => {\r\n    brd.dir = brd.id\r\n    brd.desc = brd.title\r\n    return brd\r\n  }),\r\n  'lynxchan': data => data.boards.map(brd => {\r\n    brd.dir = brd.boardUri\r\n    brd.desc = brd.boardName\r\n    return brd\r\n  }),\r\n// vichan will work only if board owner enabled vichan's/infinity's/openib's API support\r\n  'vichan': data => data.map(brd => {\r\n    brd.dir = brd.uri\r\n    brd.desc = brd.title\r\n    return brd\r\n  }),\r\n  '4chan': data => data.boards.map(brd => {\r\n    brd.dir = brd.board\r\n    brd.desc = brd.title\r\n    return brd\r\n  }),\r\n  'sosach': data => data.boards.map(brd => {\r\n    brd.dir = brd.id\r\n    brd.desc = brd.name\r\n    return brd\r\n  }),\r\n  'jschan': data => data.boards.map(brd => {\r\n    brd.dir = brd.uri\r\n    brd.desc = brd.title\r\n    return brd\r\n  })\r\n\r\n}\r\n\r\nfunction LSfetchJSON(key) {\r\n  let val = null, data = localStorage[key]\r\n  if (typeof data !== 'undefined') {\r\n    try {\r\n      val = JSON.parse(data)\r\n    }\r\n    catch(e) {\r\n      console.error(e)\r\n      localStorage.removeItem(key)\r\n    }\r\n  }\r\n  return val\r\n}\r\n\r\nvar lessCompiler = {\r\n  compile: function(chans) {\r\n    let res = ''\r\n    chans.forEach(ch => {\r\n      if (ch.colors) {\r\n        let idClassEscaped = ('chan_'+ch.id).replace('!', '\\\\!')\r\n        res += `.${idClassEscaped} { \r\n          @bgcolor: #${ch.colors[0]};  @linkcolor: #${ch.colors[1]}; `\r\n          + (ch.advanced_less || this.base) + '}\\n\\n'\r\n      }\r\n    })\r\n    less.render(res, (err, output) => {\r\n      if (err) {\r\n        console.error(err)\r\n      }\r\n      else {\r\n        localStorage['compiledCSS'] = output.css\r\n        injector.inject('framestyles', output.css)\r\n      }\r\n    })\r\n  },\r\n  base: \"background: @bgcolor; a, .chan-overlay .icon { color: @linkcolor; } &:hover { background: darken(@bgcolor, 8%); } &.onchan { box-shadow: inset -2px 0 fadeout(@linkcolor, 25%); } & when (lightness(@bgcolor) < 70%) { color: #C3C3C3; a:hover, .ch-name:hover, .icon:hover, .rw-playpause:hover, .volumeter:hover { color: white; } .board:hover { background: rgba(255, 255, 255, .08); } } & when (lightness(@bgcolor) > 70%) { color: #404040; a:hover, .ch-name:hover, .icon:hover, .rw-playpause:hover, .volumeter:hover { color: black; } .board:hover { background: rgba(0, 0, 0, .08); } }\"\r\n}\r\n\r\nNodeList.prototype.forEach = Array.prototype.forEach\r\n// NodeList.prototype.map = Array.prototype.map\r\n\r\nvar injector = {\r\n  inject: function(alias, css) {\r\n    var id = `injector:${alias}`\r\n    var existing = document.getElementById(id)\r\n    if (existing) {\r\n      existing.innerHTML = css\r\n      return\r\n    }\r\n    var head = document.head || document.getElementsByTagName('head')[0]\r\n    , style = document.createElement('style')\r\n    style.type = 'text/css'\r\n    style.id = id\r\n    if (style.styleSheet) {\r\n      style.styleSheet.cssText = css\r\n    } else {\r\n      style.appendChild(document.createTextNode(css))\r\n    }\r\n    head.appendChild(style)\r\n  },\r\n  remove: function(alias) {\r\n    var id = `injector:${alias}`\r\n    var style = document.getElementById(id)\r\n    if (style) {\r\n      var head = document.head || document.getElementsByTagName('head')[0]\r\n      if (head)\r\n        head.removeChild(document.getElementById(id))\r\n    }\r\n  }\r\n}\r\n\r\nvar widgets = {\r\n  pool: {},\r\n  supported: ['radio']\r\n}\r\nwidgets.radio = {\r\n  name: \"Радио\",\r\n  newWidget: function(props, id) {\r\n    var widget = {\r\n      streams: [],\r\n      currentStream: null,\r\n      url: props.url, \r\n      $el: $(`<div class=\"radio-widget disabled\"></div>`)\r\n    }\r\n\r\n    var saved = {\r\n      volume: +(localStorage[`radio_${id}_volume`] || 1),\r\n      stream: +(localStorage[`radio_${id}_streamid`] || 0),\r\n    }\r\n\r\n    props.streams.forEach(stream => {\r\n      if(stream.hasOwnProperty('n')) {\r\n        var $_name = _.template(stream.name)\r\n        , $_path = _.template(stream.path)\r\n        this.mixedRange(stream.n).forEach(n => {\r\n          widget.streams.push({\r\n            name: $_name({n: n}),\r\n            path: $_path({n: n}),\r\n            mime: stream.mime\r\n          })\r\n        })\r\n      }\r\n      else\r\n        widget.streams.push(stream)\r\n    })\r\n\r\n    widget.audio = $('<audio controls>')\r\n    .appendTo(widget.$el)[0]\r\n    widget.playPause = this.playPause.bind(widget)\r\n    widget.audio.volume = saved.volume\r\n    widget.audio.onloadeddata = () => widget.$el.removeClass('disabled')\r\n\r\n    $(html`<div class=\"rw-playpause\">\r\n      <div class=\"pause-icon\"></div>\r\n      <div class=\"play-icon\"></div>\r\n    </div>`)\r\n    .appendTo(widget.$el)\r\n    .click(widget.playPause)\r\n\r\n    var $selectWrapper = $('<div class=\"select-wrapper\">')\r\n    var options = []\r\n    widget.streams.forEach((stream, ix) => {\r\n      options.push(`<option value=\"${ix}\">${stream.name}</option>`)\r\n    })\r\n    widget.setStream = this.setStream.bind(widget)\r\n    $('<select>')\r\n    .append(options)\r\n    .val(saved.stream)\r\n    .change(function() {\r\n      widget.setStream(+this.value)\r\n      localStorage[`radio_${id}_streamid`] = +this.value\r\n    })\r\n    .appendTo($selectWrapper)\r\n    $selectWrapper.appendTo(widget.$el)\r\n    \r\n    lazyBoy.addJob(() => widget.setStream(saved.stream))\r\n \r\n    var $volumeter = this.buildVolumeter(id, 70, 20, v => {\r\n       widget.audio.volume = v\r\n       localStorage[`radio_${id}_volume`] = v\r\n    }, saved.volume)\r\n    widget.$el.append($volumeter)\r\n    widget.reflectVolumeChange = $volumeter.setV\r\n    widget.setVolume = this.setVolume.bind(widget)\r\n\r\n    widget.onCategoryClose = () => {\r\n      if(!widget.audio.paused)\r\n        widget.playPause()\r\n    }\r\n\r\n    widget.el = widget.$el[0]\r\n    widgets.pool[`radio_${id}`] = widget\r\n    return `radio_${id}`\r\n  },\r\n  all: {},\r\n  setStream: function(streamID, play) {\r\n    if(this.currentStream === streamID)\r\n      return\r\n    var stream = this.streams[streamID]\r\n    , playing = !this.audio.paused\r\n    this.audio.setAttribute('src', this.url + stream.path)\r\n    this.audio.setAttribute('type', stream.mime)\r\n    if(playing)\r\n      this.audio.play()\r\n  },\r\n  setVolume: function(v) {\r\n    this.audio.volume = v\r\n    this.reflectVolumeChange(v)\r\n  },\r\n  playPause: function(force) {\r\n    force = force || null\r\n    if(this.audio.networkState == 3) {\r\n      this.audio.pause()\r\n      this.$el.removeClass('streaming')\r\n    }\r\n    else if(this.audio.paused) {\r\n      $('.radio-widget audio').each(function() {\r\n        this.pause()\r\n      })\r\n      this.audio.play()\r\n      this.$el.addClass('streaming')\r\n    }\r\n    else {\r\n      this.audio.pause()\r\n      this.$el.removeClass('streaming')\r\n    }\r\n  },\r\n  buildVolumeter: function(id, width, height, onchange, baseV) {\r\n    baseV = baseV || 1\r\n\r\n    var $vm = $('<div class=\"volumeter\">')\r\n\r\n    var buildSVG = cls => {\r\n      var cns = tag => document.createElementNS(\"https://www.w3.org/2000/svg\", tag)\r\n\r\n      var svg = cns('svg')\r\n      svg.setAttribute('width', width)\r\n      svg.setAttribute('height', height)\r\n      svg.setAttribute('viewBox', `0 0 ${width} ${height}`)\r\n      svg.classList.add(cls)\r\n\r\n      var poly = cns('polygon')\r\n      poly.setAttribute('points', `0,${height} ${width},0 ${width},${height}`)\r\n      svg.appendChild(poly)\r\n\r\n      return svg\r\n    }\r\n\r\n    var bg = buildSVG('vm-bg')\r\n    , fg = buildSVG('vm-fg')\r\n\r\n    var $w = $('<div class=\"vm-fg-wrapper\">')\r\n    $w[0].appendChild(fg)\r\n\r\n    $vm.append($w)\r\n    $vm[0].appendChild(bg)\r\n\r\n    $vm.setV = val => $w.css({width: `${val * width}px`})\r\n    $vm.setV(baseV)\r\n\r\n    var down = false\r\n\r\n    function evToVal(ev) {\r\n      if(down) {\r\n        var val = (ev.pageX - $vm.offset().left) / width\r\n        if(val < 0) val = 0\r\n        if(val > 1) val = 1\r\n        $vm.setV(val)\r\n        if(onchange) \r\n          onchange(val)\r\n      }\r\n    }\r\n\r\n    $vm.mousedown(function(ev) {\r\n      down = true\r\n      evToVal(ev)\r\n    })\r\n    \r\n    $('body')\r\n    .mousemove(evToVal)\r\n    .on('mouseup mouseleave blur', ev => {\r\n      down = false\r\n    })\r\n\r\n    return $vm\r\n  },\r\n  mixedRange: function(input) {\r\n    var m\r\n    , output = []\r\n    , re = /(?:([0-9]+)(?:\\-([0-9]+))?(?:, ?)?)/g\r\n    \r\n    while ((m = re.exec(input)) !== null) {\r\n      if (m.index === re.lastIndex) {\r\n        re.lastIndex++\r\n      }\r\n      if(m[2]) {\r\n        output = output.concat(_.range(m[1], +m[2]+1))\r\n      }\r\n      else\r\n        output.push(+m[1])\r\n    }\r\n\r\n    return output\r\n  }\r\n}\r\n\r\nvar router = {\r\n  chans: {},\r\n  register: function(chan) {\r\n    this.chans[chan.id] = {\r\n      exp: new RegExp(rx`^(https?:\\/\\/${chan.url.split(/^https?:\\/\\//)[1] || chan.url})(?:${chan.prefix || chans.defaults.prefix}([^\\/\\?#]+))?`),\r\n      name: chan.name,\r\n      boards: _.flatten(_.map(chan.boards, 'boards'))\r\n    }\r\n  },\r\n  currentHash: '',\r\n  determineIdentity: function(url) {\r\n    let result = null\r\n    // console.log('router.chans:', this.chans)\r\n    _.find(this.chans, (chan, chid) => {\r\n      // console.log(`Checking ${chid}...`)\r\n      let guro = chan.exp.exec(url)\r\n      if (guro !== null) {\r\n        let dir = guro[2] || null\r\n        result = {\r\n          id: chid,\r\n          name: chan.name\r\n        }\r\n        if (dir) {\r\n          result.dir = dir\r\n          let brd = _.find(chan.boards, {dir: dir})\r\n          if (brd) {\r\n            result.desc = brd.desc\r\n          }\r\n        }\r\n        return 1\r\n      }\r\n      else return false\r\n    })\r\n    return result\r\n  },\r\n  indicateOn: function(i) { \r\n    let $chan = $(jq`.chan_${i.id}`)\r\n    , isOWN = (i.id === '!OWN')\r\n    , title = !isOWN ? i.name : ''\r\n    $('.onchan').removeClass('onchan')\r\n    $('.boardover').removeClass('boardover')\r\n    if($chan.length) {\r\n      $chan.addClass('onchan')\r\n    }\r\n    if (i.dir) {\r\n      i.dir = decodeURIComponent(i.dir)\r\n      var $brd = $chan.find(jq`a[data-dir=\"${i.dir}\"]`)\r\n      if($brd.length) {\r\n        $brd.addClass('boardover')\r\n        if (!i.desc) {\r\n          i.desc = $brd.find('.board-name').text()\r\n        }\r\n      }\r\n      if (i.desc) {\r\n        title += (!isOWN ? ':' : '') + i.desc\r\n      }\r\n    }\r\n    parent.document.title = (title ? `${title} • ` : '') + _SITENAME\r\n  },\r\n  sync: function(event) {\r\n    if (typeof event.data !== 'string') return;\r\n\r\n    if(event.data.match(/overnullchlive\\.html/)) {\r\n      parent.script_installed = true;\r\n      scriptInstalled()\r\n      try {\r\n        parent.frames.main.scriptInstalled()\r\n      }\r\n      catch(e) {  }\r\n      return\r\n    }\r\n    //prevent frame nesting\r\n    if (event.data.split(/\\/$/)[0] == parent.location.protocol + '//' + parent.location.host) {\r\n      parent.frames['main'].location.href = '/index.html'\r\n      this.noFollow = '/index.html'\r\n      return\r\n    }\r\n    //prevent follow\r\n    router.noFollow = event.data;\r\n    // set the hash\r\n    parent.history.replaceState(null, null, '/#/'+event.data)\r\n    // define chan\r\n    var identity = router.determineIdentity(event.data)\r\n    if(identity) {\r\n      router.indicateOn(identity)\r\n    }\r\n    else parent.document.title = _SITENAME;\r\n  },\r\n  follow: function() {\r\n  \tif (parent.location.hash && this.noFollow.split(/#\\/?/)[1] !== parent.location.hash) {\r\n  \t\tlet url = parent.location.hash.split(/#\\/?/)[1]\r\n  \t\tparent.frames['main'].location.href = url\r\n  \t\tthis.noFollow = url\r\n  \t}\r\n  },\r\n  clearHash: function() {\r\n    parent.document.title = _SITENAME;\r\n    parent.history.replaceState({}, parent.document.title, \"/\");\r\n  },\r\n  noFollow: false\r\n}\r\n\r\nfunction scriptInstalled() {\r\n  $('#refresh').addClass('script-installed').attr('title', 'Обновить')\r\n}\r\n\r\nvar lazyBoy = {\r\n  init: function() {\r\n    $(window).on('load', this.execute.bind(this))\r\n  },\r\n  que: [],\r\n  execute: function() {\r\n    this.ready = true\r\n    while (this.que.length) {\r\n      this.que.splice(0, 1)[0]()\r\n    }\r\n  },\r\n  addJob: function(job) {\r\n    if (this.ready) {\r\n      job()\r\n    }\r\n    else {\r\n      this.que.push(job)\r\n    }\r\n  },\r\n  ready: false\r\n}\r\n\r\nwindow.addEventListener(\"message\", router.sync, false)\r\n\r\ntry {\r\n  if (parent.frames.main.document.location.pathname.match(/catalog/)) {\r\n    parent.frames.main.window.postMessage('overnullchlive.html', chans.own.url)\r\n  }\r\n}\r\ncatch(e) {}\r\n\r\n\r\nfunction check3d() {\r\n  if (!window.getComputedStyle) {\r\n    return false;\r\n  }\r\n  \r\n  var el = document.createElement('p'),\r\n  has3d,\r\n  transforms = {\r\n    'webkitTransform':'-webkit-transform',\r\n    'OTransform':'-o-transform',\r\n    'msTransform':'-ms-transform',\r\n    'MozTransform':'-moz-transform',\r\n    'transform':'transform'\r\n  };\r\n\r\n  // Add it to the body to get the computed style\r\n  document.body.insertBefore(el, null);\r\n\r\n  for(var t in transforms){\r\n    if( el.style[t] !== undefined ){\r\n      el.style[t] = 'translate3d(1px,1px,1px)';\r\n      has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\r\n    }\r\n  }\r\n\r\n  document.body.removeChild(el);\r\n\r\n  return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\r\n}\r\n\r\nvar live = {\r\n  init: function() {\r\n    let transform = `transform: translate${check3d() ? '3d' : ''}(-50%${check3d() ? ',0,0' : ''});`\r\n    injector.inject('paneshift', `.showlive .pane-container { ${transform} -o-${transform} -webkit-${transform} -moz-${transform} -ms-${transform} }`)\r\n    this.update()\r\n    $('#live-toggle').click(() => {\r\n      if(parent._frames.layout == 'horizontal' && !parent._open) {\r\n        menu.open()\r\n        this.toggle(true)\r\n        return\r\n      }\r\n      this.toggle()\r\n    })\r\n    $('#live-add').click(this.showForm.bind(this))\r\n    $('#live-refresh').click(this.update.bind(this))\r\n    this.scheduleUpdate(60 * 1000)\r\n  },\r\n  update: function() {\r\n    $.get(`/live/live.json?v=${new Date().getTime()}`)\r\n    .done((data, textStatus, jqXHR) => {\r\n      if (this.hasOwnProperty('currentList') && this.currentList === jqXHR.responseText) {\r\n        return\r\n      }\r\n      this.build(data)\r\n      this.currentList = jqXHR.responseText\r\n    })\r\n  },\r\n  toggle: function(onoff) {\r\n    $('body').toggleClass('showlive', onoff)\r\n  },\r\n  build: function(data) {\r\n    $('#live-content').html(data.reduce((htm, link) => htm + this.buildLink(link), ''))\r\n  },\r\n  buildLink: function(link) {\r\n    return html`<a target=\"main\" href=\"${_.escape(link.url)}\" class=\"board external\" onclick=\"handleBoardClick(this)\">\r\n      <span class=\"board-name\">${_.escape(link.description)}</span>\r\n      <span class=\"link-domain\">${_.escape(this.getDomainName(link.url))}</span>\r\n    </a>`\r\n  },\r\n  showForm: function() {\r\n    if (parent._frames.layout == 'horizontal') {\r\n      menu.close()\r\n    }\r\n    parent.frames.live.$('#url').val(parent.location.hash.split(/^#\\/?/)[1])\r\n    parent.toggleShare()\r\n    parent.frames.live.$('#description').focus()\r\n  },\r\n  getDomainName: url => url.match(/^https?:\\/\\/(?:www\\.)?([^\\/#\\?]+)/i)[1],\r\n  scheduleUpdate: function(ms) {\r\n    clearInterval(this.interval)\r\n    this.interval = setInterval(this.update.bind(this), ms)\r\n  }\r\n}\r\n"],"mappings":"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"}